(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1048:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(162),a=n(60),l=n(161),u=n.n(l),c=n(760),s=n(761),f=n(160),m=n(763),p=n(164),d=n(764);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function b(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?x(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var I=a.a.Row,w=a.a.Col,T=function(e){function t(e){var n;y(this,t),(n=b(this,S(t).call(this,e))).renderPushMediaState=function(e){return!0===e?o.a.createElement("label",{inverse:!1,status:"default"},"\u662f"):o.a.createElement("label",{inverse:!1,status:"default"},"\u5426")};var r,i,a,l={voiceBridge:n.getQueryVariable("voiceBridge"),userId:n.getQueryVariable("userId"),mediaId:n.getQueryVariable("mediaId"),timeRange:{start:"newest"}};return n.queryParam=l,n.state={},Object(c.g)(n.queryParam,n.updateMediaInfo.bind(x(n))),n}return E(t,e),v(t,[{key:"componentDidMount",value:function e(){var t=this,n=function e(){Object(c.g)(t.queryParam,t.updateMediaInfo.bind(t))};this.interval=setInterval(n,3e3)}},{key:"componentWillUnmount",value:function e(){clearInterval(this.interval)}},{key:"updateMediaInfo",value:function e(t){if(null!=t&&t.length>0){var n=t[0];this.setState({mediaInfo:n})}}},{key:"getQueryVariable",value:function e(t){for(var n,r,o=window.location.toString().split("?")[1].split("&"),i=0;i<o.length;i++){var a=o[i].split("=");if(a[0]==t)return a[1]}return!1}},{key:"renderTextColum",value:function e(t,n){return o.a.createElement("li",{style:C.infoItemBody},o.a.createElement("span",{style:C.infoItemLabel},t,":"),o.a.createElement("span",{style:C.infoItemValue},n))}},{key:"secondsToDhms",value:function e(t){t=Number(t);var n=Math.floor(t/86400),r=Math.floor(t%86400/3600),o=Math.floor(t%3600/60),i=Math.floor(t%60),a,l,u,c;return(n>0?n+"\u5929":"")+(r>0?r+"\u65f6":"")+(o>0?o+"\u5206":"")+(i>0?i+"\u79d2":"")}},{key:"renderRtpMapStats",value:function e(t,n){var r;if(null!=n)return"VIDEO"===t?r="\u89c6\u9891\u4fe1\u606f":"AUDIO"===t&&(r="\u97f3\u9891\u4fe1\u606f"),o.a.createElement("div",null,o.a.createElement("h3",{style:C.subTitle},r),o.a.createElement(I,{style:C.anchorCard},o.a.createElement(w,{l:"10"},this.renderTextColum("bytesReceived",n.bytesReceived),this.renderTextColum("firCount",n.firCount),this.renderTextColum("fractionLost",n.fractionLost),this.renderTextColum("jitter",n.jitter)),o.a.createElement(w,{l:"10"},this.renderTextColum("nackCount",n.nackCount),this.renderTextColum("packetsLost",n.packetsLost),this.renderTextColum("packetsReceived",n.packetsReceived),this.renderTextColum("pliCount",n.pliCount)),o.a.createElement(w,{l:"10"},this.renderTextColum("remb",n.remb),this.renderTextColum("sliCount",n.sliCount),this.renderTextColum("ssrc",n.ssrc))))}},{key:"renderWebrtcStats",value:function e(t){for(var n=t.statsMap,r=null,i=null,a=0;a<n.length;a++){if("VIDEO"===n[a].mediaType){var l=n[a];for(var u in l)if(l.hasOwnProperty(u)){r=l[u];break}}if("AUDIO"===n[a].mediaType){var c=n[a];for(var u in c)if(c.hasOwnProperty(u)){i=c[u];break}}}return o.a.createElement("div",null,this.renderRtpMapStats("VIDEO",r),this.renderRtpMapStats("AUDIO",i))}},{key:"renderMediaInfo",value:function e(t){if(null!=t)return o.a.createElement("div",null,o.a.createElement("h3",{style:C.subTitle},"\u57fa\u672c\u4fe1\u606f:"),o.a.createElement(I,{style:C.anchorCard},o.a.createElement(w,{l:"10"},this.renderTextColum("\u623f\u95f4",t.meetingName)),o.a.createElement(w,{l:"10"},this.renderTextColum("\u7528\u6237",t.userName)),o.a.createElement(w,{l:"10"},this.renderTextColum("\u65b9\u5f0f",t.shared?"\u63a8":"\u62c9"))),this.renderWebrtcStats(t))}},{key:"renderProcessName",value:function e(t){var n;return n=f.a.mappedProcessName(t),o.a.createElement("div",{style:C.titleCol},o.a.createElement("span",{style:C.titleText},n))}},{key:"renderRSS",value:function e(t){var n=t/1024;return n=n.toFixed(2)+"MB",o.a.createElement("div",{style:C.titleCol},o.a.createElement("span",{style:C.titleText},n))}},{key:"render",value:function e(){return o.a.createElement(u.a,{style:C.cardContainer},o.a.createElement("div",{style:{width:"95%",height:"95%"}},o.a.createElement("hr",null),this.renderMediaInfo(this.state.mediaInfo),o.a.createElement("hr",null)))}}]),t}(r.Component);T.displayName="MediaDetailInfo",T.propTypes={},T.defaultProps={};var C={cardContainer:{padding:"10px 10px 20px 10px"},editDialog:{display:"inline-block",marginRight:"5px"},loading:{width:"100%"},header:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid #999"},title:{fontSize:20,margin:0,paddingBottom:10},subTitle:{fontSize:16,fontWeight:"bold",margin:0,marginTop:"20px"},anchorCard:{marginTop:"10px",marginLeft:"20px",background:"#fff",overflow:"hidden",textOverflow:"ellipsis",borderRadius:"4px",display:"flex"},anchorAvatar:{display:"block"},anchorInfoBody:{position:"absolute",left:"0",right:"0",bottom:"0",width:"100%",textAlign:"center",fontSize:"12px"},infoItemBody:{display:"flex",margin:"11px 0"},infoItemLabel:{color:"#000",fontSize:"14px",marginRight:"2px",minWidth:"64px"},infoItemValue:{marginLeft:"5px",color:"#333",fontSize:"14px"},infoItemTitle:{float:"left",maxWidth:"240px",padding:"0 20px",fontSize:"14px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},infoItemPrice:{float:"right",width:"100px",textAlign:"right",color:"#fe5c38",fontSize:"20px",marginRight:"10px"},contentText:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}};function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}function M(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return(L=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}n.d(t,"default",function(){return B});var B=function(e){function t(e){var n;return P(this,t),(n=M(this,N(t).call(this,e))).state={},n}return _(t,e),k(t,[{key:"render",value:function e(){return o.a.createElement("div",{className:"RoomList-page"},o.a.createElement(T,null))}}]),t}(r.Component)},760:function(e,t,n){"use strict";n.d(t,"k",function(){return d}),n.d(t,"f",function(){return g}),n.d(t,"d",function(){return y}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return b}),n.d(t,"c",function(){return S}),n.d(t,"a",function(){return x}),n.d(t,"l",function(){return E}),n.d(t,"e",function(){return O}),n.d(t,"i",function(){return I}),n.d(t,"j",function(){return T}),n.d(t,"b",function(){return C});var r=n(42),o=n.n(r),i=n(129),a=n.n(i),l=n(764),u=n.n(l),c=n(160);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var f=[],m=[],p=[],d=function e(t){o.a.get("/rimpmanage/roomList").then(function(e){var n=e.data;"SUCCESS"===(n=n.response).returncode?(t(n),"object"==s(n.meetings.meeting)&&(f=n.meetings.meeting.constructor!=Array?[n.meetings.meeting]:f)):(f=[],t(null)),sessionStorage.setItem("meetingsData",JSON.stringify(f))}).catch(function(e){console.log("fetch course appprove list error.",e),t(null)})},g=function e(t){o.a.get("/rimpmanage/roomList/historyRoomList").then(function(e){var n=e.data;m=n,t(n),sessionStorage.setItem("historyMeetings",JSON.stringify(m))}).catch(function(e){console.log("getHistoryMeetingsfromServer list error.",e),t(null)})},y=function e(t,n){o.a.get("/rimpmanage/eventList?meetId="+t).then(function(e){var t=e.data;n(t)}).catch(function(e){console.log("getEventsfromServer error.",e),n(null)})},h=function e(t,n){o.a.post("/rimpmanage/mediaInfo/getMediaInfo",t).then(function(e){var t=e.data;n(t)}).catch(function(e){console.log("getEventsfromServer error.",e),n(null)})},v=function e(t){return new Promise(function(e,n){o.a.post("/rimpmanage/DeviceInfo/processesRestartInfo",t).then(function(t){var n=t.data;e(n)}).catch(function(e){console.log("getProcessRestartInfo error.",e),n(e)})})},b=function e(t,n){o.a.post("/rimpmanage/mediaInfo/mediaServers",t).then(function(e){var t=e.data;n(t)}).catch(function(e){console.log("getEventsfromServer error.",e),n(null)})},S=function e(t){o.a.get("/rimpmanage/DeviceInfo").then(function(e){var n=e.data;t(n),p=n,sessionStorage.setItem("DeviceInfo",JSON.stringify(n))}).catch(function(e){console.log("getDeviceInfosfromServer error.",e),t(null)})},x=function e(t,n){o.a.post("/rimpmanage/countInfo",t).then(function(e){var t=e.data;n(t)}).catch(function(e){console.log("getCountInfosfromServer error.",e),n(null)})},E=function e(t,n){o.a.post("/rimpmanage/countInfo/processRestartEvent",t).then(function(e){var t=e.data;n(t)}).catch(function(e){console.log("geProcessRestartEvent error.",e),n(null)})},O=function e(t){var n=null,r=[];if(m.length<=0){var o=sessionStorage.getItem("historyMeetings");r=JSON.parse(o)}else r=m;return r.forEach(function(e){e.meetId==t&&(n=e)}),n},I=function e(t){var n=null,r=[];if(f.length<=0){var o=sessionStorage.getItem("meetingsData");r=JSON.parse(o)}else r=f;return r.forEach(function(e){e.internalMeetingID==t&&(n=e)}),n},w=function e(t,n){var r=null,o=[];if(f.length<=0){var i=sessionStorage.getItem("meetingsData");o=JSON.parse(i)}else o=f;return o.forEach(function(e){var o;e.voiceBridge.toString()===t&&c.a.tranObjToArr(e.attendees.attendee).forEach(function(e){e.userID===n&&(r=e.fullName)})}),r},T=function e(t){var n=[];if(f.length<=0){var r=sessionStorage.getItem("meetingsData");n=JSON.parse(r)}else n=f;var o="";return n.forEach(function(e){e.voiceBridge.toString()===t&&(o=e.meetingName)}),o},C=function e(t){var n=null,r=[];if(p.length<=0){var o=sessionStorage.getItem("deviceInfo");r=JSON.parse(o)}else r=p;return null==r?null:(r.forEach(function(e){e.hostname===t&&(n=e)}),n)},j=d},761:function(e,t,n){"use strict";var r=n(14),o=n.n(r),i={dateFormat:function e(t,n){var r={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[o]:("00"+r[o]).substr((""+r[o]).length)));return t},formatUtcTime:function e(t,n){void 0===n&&(n=0);var r=null,i="\u2014";if(r=new Date(t)){var a=o()(r.getTime()+6e4*n);i=a?a.format("YYYY-MM-DD HH:mm:ss"):{convertTime:t}+" "+{offset:n}}else i={convertTime:t}+" "+{offset:n};return i},getTimeBeforeDays:function e(t){return t<1?0:new Date((new Date).setHours(0,0,0,0)).getTime()-24*(t-1)*60*60*1e3;var n,r}};t.a=i},763:function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(761);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return e?i.a.formatUtcTime(e,0):o.a.createElement("span",{style:l({},s.contentText)},"No Time")}var s={contentText:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}};t.a=c}}]);