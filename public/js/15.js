(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1051:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(972),i=n(973),l=n(971),c=n(970),u=n(183),f=n.n(u),s=n(88),p=n(122),d=n(967);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var E=function(e){function t(e){var n;return g(this,t),(n=b(this,x(t).call(this,e))).fetchMediaServerListData=function(e){var t="newest",a={timeRange:{start:"newest"}};Object(p.i)(a,function(t){n.updateMediaServerData(t,e)})},n.onChangePage=function(e){n.fetchMediaServerListData(e)},n.renderOperations=function(e,t,n){return r.a.createElement("div",{className:"operation-table-operation"},r.a.createElement(d.a,{to:"/DeviceDetailInfo?deviceName="+n.hostname,className:O.action},"\u4e3b\u673a\u8be6\u60c5"))},n.state={},n.state.tableData={org:[],total:0,pageSize:8,currentPage:1,list:[]},n}return w(t,e),y(t,[{key:"componentDidMount",value:function e(){var t=this;this.fetchMediaServerListData(1);var n=function e(){t.fetchMediaServerListData(t.state.tableData.currentPage)};this.interval=setInterval(n,3e3)}},{key:"componentWillUnmount",value:function e(){clearInterval(this.interval)}},{key:"updateMediaServerData",value:function e(t,n){var a=this.state.tableData;if(null!=t){var r=[];s.a.ganerateListFromTree(t,r,1),a.org=r,a.total=r.length,a.currentPage=n,a.list=s.a.getCurrentPageDataList(r,n,a.pageSize),this.setState({tableData:a})}else a.total=0,a.currentPage=1,a.org=[],a.list=[],this.setState({tableData:a})}},{key:"renderMediaList",value:function e(){var t=this.state.tableData;return r.a.createElement("div",{className:"operation-table"},r.a.createElement(f.a,{style:O.cardContainer},r.a.createElement("h3",{style:O.subTitle},"MDS\u670d\u52a1\u5668\u5217\u8868:"),r.a.createElement(c.a,{dataSource:t.list,className:"basic-table",style:O.basicTable,hasBorder:!1},r.a.createElement(c.a.Column,{title:"\u4e3b\u673a\u540d\u79f0",dataIndex:"hostname",width:180,alignHeader:"left",align:"left"}),r.a.createElement(c.a.Column,{title:"\u4e3b\u673aIP",dataIndex:"ip",width:150,alignHeader:"left",align:"left"}),r.a.createElement(c.a.Column,{title:"\u89c6\u9891\u6d41\u6570",dataIndex:"video",width:120,alignHeader:"center",align:"center"}),r.a.createElement(c.a.Column,{title:"\u97f3\u9891\u6d41\u6570",dataIndex:"video",width:120,alignHeader:"center",align:"center"}),r.a.createElement(c.a.Column,{title:"\u89c6\u9891\u6d41\u9650\u5236\u6570",dataIndex:"videoLimit",width:120,alignHeader:"center",align:"center"}),r.a.createElement(c.a.Column,{title:"\u97f3\u9891\u6d41\u9650\u5236\u6570",dataIndex:"audioLimit",width:120,alignHeader:"center",align:"center"}),r.a.createElement(c.a.Column,{title:"\u64cd\u4f5c",dataIndex:"operation",width:150,align:"center",cell:this.renderOperations})),r.a.createElement("div",{style:O.paginationContainer},r.a.createElement(i.a,{current:t.currentPage,pageSize:t.pageSize,total:t.total,onChange:this.onChangePage}))))}},{key:"render",value:function e(){return r.a.createElement(f.a,{style:O.cardContainer},r.a.createElement("div",{style:{width:"95%",height:"95%"}},r.a.createElement("hr",null),this.renderMediaList()))}}]),t}(a.Component);E.displayName="MediaServerList",E.propTypes={},E.defaultProps={};var O={cardContainer:{padding:"10px 10px 20px 10px"},editDialog:{display:"inline-block",marginRight:"5px"},loading:{width:"100%"},header:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid #999"},title:{fontSize:20,margin:0,paddingBottom:10},subTitle:{fontSize:16,fontWeight:"bold",margin:0,marginTop:"20px"},secondLine:{marginTop:"10px"},anchorCard:{marginTop:"10px",marginLeft:"20px",background:"#fff",overflow:"hidden",textOverflow:"ellipsis",borderRadius:"4px",display:"flex"},anchorAvatar:{display:"block"},anchorInfoBody:{position:"absolute",left:"0",right:"0",bottom:"0",width:"100%",textAlign:"center",fontSize:"12px"},infoItemBody:{display:"flex",margin:"11px 0"},infoItemLabel:{color:"#000",fontSize:"14px",fontWeight:"bold",marginRight:"2px",minWidth:"64px"},infoItemValue:{marginLeft:"5px",color:"#333",fontSize:"14px"},infoItemTitle:{float:"left",maxWidth:"240px",padding:"0 20px",fontSize:"14px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},infoItemPrice:{float:"right",width:"100px",textAlign:"right",color:"#fe5c38",fontSize:"20px",marginRight:"10px"},contentText:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}};function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function I(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}function j(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function k(e,t){return(k=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}n.d(t,"default",function(){return M});var M=function(e){function t(e){var n;return P(this,t),(n=j(this,_(t).call(this,e))).state={},n}return T(t,e),I(t,[{key:"render",value:function e(){return r.a.createElement("div",{className:"MediaList-page"},r.a.createElement(E,null))}}]),t}(a.Component)}}]);